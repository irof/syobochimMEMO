============================================================
Git
============================================================

.. contents:: 目次
   :depth: 2

|
|

参考
==================

http://k.swd.cc/learnGitBranching-ja/

|
|

ブランチの移動
==========================

| branchを切り替えるときは

::

  git checkout [branch名]

|
| 一つ前にアクセスしていたブランチに切り替えるときには

::

  git checkout -

|
|

ログの見方
======================

ブランチを視覚的に確認する
-----------------------------------

::

  git log --graph

|
|

現在のリポジトリで行われた作業ログを確認する
------------------------------------------------

::

  git reflog

.. note::

   過去のログ、未来のログが見れる。checkoutやmargeの情報も参照可能。

|
|

リポジトリの状態をある時点に完全に戻す
=========================================

| リポジトリの状態をあるコミットまでもどす。
| HEAD、ステージ、現在のワーキングツリーが戻る。

::

  git reset --hard [ハッシュ]

|
|

マージする
================================

| ブランチからマージしたことを明確にするには、
| --no-ffオプションをつけてマージする。

::

  git merge --no-ff [ブランチ名]

.. note::

  今いるブランチに対して、[ブランチ名]で指定したブランチをマージする。

|
|


コミット操作
============================================

直近のコミットメッセージを修正する
------------------------------------------

::

  git commit --amend

|
|

歴史を改ざんする
----------------------------------

| typoみたいないらないコミットは消しちゃう。
|

::

 git rebase -i HEAD~2

| で、HEADを含めた歴史を対象としてエディタが立ちあがる
|

::

  pick [SHAタグ①] [コミットコメント①]
  pick [SHAタグ②] [コミットコメント②]

| ②コミットをなかったことにして、①に統合する場合は、
| ↓の用に修正すればOK

::

  pick [SHAタグ①] [コミットコメント①]
  fixup [SHAタグ②] [コミットコメント②]

|
|

リモートリポジトリへの操作
================================

リモートリポジトリを追加する
--------------------------------

::

  git remote add origin git:github.com:syobochim/[リポジトリ名]

|
|

最初のpush
-------------------

::

  git push -u origin [master/ブランチ名]

|

.. note::

  -uオプションにて、ブランチの上流はoriginリポジトリのmasterブランチであることを設定。

|
|

リモートリポジトリからの操作
===================================

リモートリポジトリの特定のブランチをチェックアウト
-------------------------------------------------------

::

  git checkout -b [ブランチ名] origin/[ブランチ名]







